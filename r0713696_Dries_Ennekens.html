<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS_Opdracht</title>
    <link rel="stylesheet" href="css/bootstrap.min.css">
</head>
<body>
    <h1>Registreer</h1>
    <h5>Meld je aan bij Anoroc Services, wij beschermen jouw software tegen malware!</h5>

    <div class="container-fluid row g-3">

    <div class="col-md-8">

    <form  class="row g-3" name="mijnForm" onsubmit="return(validateForm());">

        <div class="col-md-6">
          <label for="inputVoornaam" class="form-label">Voornaam</label>
          <input type="Voornaam" class="form-control" id="inputVoornaam" placeholder="Uw voornaam">
        </div>
        <div class="col-md-6">
          <label for="inputNaam" class="form-label">Naam</label>
          <input type="Naam" class="form-control" id="inputNaam" placeholder="Uw naam">
        </div>
        <div class="col-md-6">
            <label for="inputGebruikersnaam" class="form-label">Gebruikersnaam</label>
            <div class="input-group" >
              <div class="input-group-text">@</div>
              <input type="text" class="form-control" id="Gebruikersnaam" placeholder="u911236">
            </div>
          </div>
        
          <div class="col-md-6">
            <label for="inputEmail4" class="form-label">E-mailadres</label>
            <input type="email" class="form-control" name="inputEmail4" placeholder="mail@example.be">
          </div>
          
          <div class="col-md-6">
            <label for="inputWachwoord" class="form-label">Wachtwoord</label>
            <input type="Wachtwoord" class="form-control" id="inputWachtwoord">
            <div id="passwordHelpBlock" class="form-text">
               Je wachtwoord moet minstens 8 tekens lang zijn.
              </div>
          </div>
          <div class="col-md-6">
            <label for="inputWachtwoord2" class="form-label">Herhaal wachtwoord</label>
            <input type="Naam" class="form-control" id="inputWachtwoord2">
          </div>
        <div class="col-12">
          <label for="inputAdres" class="form-label">Adres</label>
          <input type="text" class="form-control" id="inputAdres" placeholder="Uw adres en huisnummer">
        </div>
        <div class="col-md-6">
          <label for="inputLand" class="form-label">City</label>
          <select id="inputLand" class="form-select">
            <option selected>Kies een land</option>
            <option>BelgiÃ«</option>
            <option>Duitsland</option>
            <option>Nederland</option>
            
          </select>
        </div>
        <div class="col-md-4">
          <label for="inputProvincie" class="form-label">Provincie</label>
          <select id="inputProvincie" class="form-select">
            <option selected>Kies een provincie</option>
            <option>Antwerpen</option>
            <option>Limburg</option>
            <option>Luik</option>
          </select>
        </div>
        <div class="col-md-2">
          <label for="inputPostcode" class="form-label">Postcode</label>
          <input type="number" class="form-control" id="inputPostcode">
        </div>
        <hr> 
        
        <div class="col-md-6">
            <h3>Hou me op de hoogte</h3>
            <div class="form-check">
            <input class="form-check-input" type="checkbox" value="" id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
              Inschrijven voor onze nieuwsbrief
              
            </label>
            </div>
            <div class="form-check">
                <input class="form-check-input" type="checkbox" value="" id="CheckVoor">
                <label class="form-check-label" for="flexCheckDefault">
                  Ik ga akkoord met de algemene voorwaarden
                </label>
              </div>
              
          
          </div>
          <div class="col-md-6">
            <h3>Betaling</h3>
            <div class="form-check">
                <input class="form-check-input" type="radio" name="radio"  id="Banking app" value="Banking app">
                <label class="form-check-label" for="flexRadioDefault1">
                  Banking app
                </label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="radio" name="radio" id="Overschrijving" value="Overschrijving">
                <label class="form-check-label" for="flexRadioDefault1">
                  Overschrijving
                </label>
              </div>
              
              <div class="form-check">
                <input class="form-check-input" type="radio" name="radio" id="Visa card" value="Visa card">
                <label class="form-check-label" for="flexRadioDefault1">
                  Visa card
                </label>
              </div>

              <div class="form-check">
                <input class="form-check-input" type="radio" name="radio" id="Paypal" value="Paypal">
                <label class="form-check-label" for="flexRadioDefault1">
                  Paypal
                </label>
              </div>
          </div>
        
          <hr>

          <div class="d-grid gap-2">
          <button type="submit" class="btn btn-primary">Wave your magic wand</button>
          </div>
    </form>
    </div>

  
    <div class="col-md-4">

      <div class="alert alert-danger" role="alert"  id="fout" hidden="true">
        <!--https://www.tutorialspoint.com/How-to-hide-HTML-element-with-JavaScript hiervan gebruik gemaakt om het te verbergen-->
        <h4>Yikes errors</h4>
        <p id="fouten"></p>
      </div>
      <div class="alert alert-success" role="alert" id="top" hidden="true">
        <h4>Goed Gedaan!</h4>
        <p>Aww yeah, je werd geregistreerd. </p>
      </div>
      <div class="alert alert-info" role="alert" id="top" hidden="true">
        <h4>Betalingswijze</h4>
        <p id="Betalingswijze"></p>
      </div>
      

    </div>

    <button type="button" class="btn btn-dark" onclick = "validateForm()">Dark</button>

  </div>
<!--Form is opgesteld aan de hand van bootstrap. hr heb ik hier gevonden https://www.w3schools.com/tags/tag_hr.asp -->
        
    <script >
      


      let errors = new Array();
      
      
      
      function checkEmptyField(veld, melding){
      //Dit is gebaseerd op https://www.tutorialspoint.com/javascript/javascript_form_validations.htm
           
      var x = document.getElementById(veld).value;
      if( x == "" || x == null){
      errors.push(melding);
          
      }
      }

      //werkt maar krijg de melding niet in de array
    function ValidateEmail(inputText){
        //Dit is gebaseerd op https://www.w3resource.com/javascript/form/email-validation.php
    var mailformat = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;
    if(inputText.value.match(mailformat)){
    return true;
    }
    else{
    errors.push("E-mailadres is niet correct");
    return false;
    }
    }
       
    //Het werkt maar nog geen veld gebruikt.
    function validatePayment(){
      //https://www.tutorialspoint.com/how-to-check-whether-a-radio-button-is-selected-with-javascript hier gevonden. 
      let output = document.getElementById('Betalingswijze');
      
      function getSelectedRadio() {
         
         let radioButtons = document.getElementsByName('radio');
         for (let radio of radioButtons) {
            if (radio.checked) {
               output.innerHTML = "Je betalingswijze is " + radio.value;
              
            }
         }
      }
      getSelectedRadio();
      
    }

    //Het werkt maar een melding in array
    function checkPC(veld){
    var x = document.getElementById(veld).value;
    if( x == "" || x == null){
    errors.push("Het veld postcode is vereist.");
    }
    if(x < 1000 || x > 9999){
    errors.push("De waarde van postcode moet tussen 1000 en 9999 liggen");
    }
    }
    

    function validateForm() {
        

        checkEmptyField("inputVoornaam","Het veld voornaam is vereist." );

        checkEmptyField("inputNaam","Het veld naam is vereist." );

        checkEmptyField("Gebruikersnaam","Het veld gebruikersnaam is vereist." );

        ValidateEmail(document.mijnForm.inputEmail4);

        checkEmptyField("inputWachtwoord","Het veld wachtwoord is vereist." );

        //werkt ongeveer
       let x = document.getElementById("inputWachtwoord").value;
       let y = x.toString(); 
        if(y.length < 7){
          errors.push("Een wachtwoord moet minstens 7 tekens bevatten.");
        }
   
        checkEmptyField("inputWachtwoord2","Het veld herhaal wachtwoord is vereist." );

        //werkt ongeveer
        if(document.getElementById("inputWachtwoord").value != document.getElementById("inputWachtwoord2").value){
          errors.push("De wachtwoorden moeten overeenkomen.")
        }

        checkEmptyField("inputAdres","Het veld adres is vereist." );

        checkEmptyField("inputLand","Het veld land is vereist." );

        checkEmptyField("inputProvincie","Het veld procincie is vereist." );
       
        
        checkPC("inputPostcode")


        //Dit werkt behalve de push
        if(!document.getElementById("CheckVoor").checked){
          errors.push("Je moet de algemene voorwaarden accepteren.")
        }

        validatePayment();
        console.log(errors)

        //er is een array en er komen elementen 'in', maar nog moeilijk om ze te tonen. 
        if(errors.length = 0 || errors.length == null){
          //https://www.w3schools.com/howto/howto_js_toggle_hide_show.asp
        document.getElementById("top").hidden = false;
        }
        else{
          document.getElementById("fout").hidden = false;
          let fouten = "";
          errors.forEach(element => {fouten += element.toString });
          document.getElementById("fouten").innerHTML = errors[1];
        }


        

        

       } 

    
    
    </script>
</body>
</html>